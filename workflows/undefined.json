{
  "createdAt": "2025-09-28T06:30:09.743Z",
  "updatedAt": "2025-11-21T13:30:00.000Z",
  "id": "6JDvZ3pYJE936ZqX",
  "name": "Courselamy",
  "active": false,
  "isArchived": false,
  "nodes": [
    {
      "parameters": {
        "triggerTimes": {
          "item": [
            {
              "mode": "everyX",
              "value": 30,
              "unit": "minutes"
            }
          ]
        }
      },
      "id": "5336a893-3b8b-431a-b465-d9376d3c604a",
      "name": "Schedule Trigger1",
      "type": "n8n-nodes-base.cron",
      "typeVersion": 1,
      "position": [
        -12800,
        1392
      ],
      "retryOnFail": true,
      "maxTries": 5,
      "waitBetweenTries": 5000
    },
    {
      "parameters": {
        "url": "https://www.discudemy.com/feed/",
        "responseFormat": "string",
        "options": {}
      },
      "id": "0e7ebfbb-5367-4413-b734-e4b66b970ecd",
      "name": "Fetch RSS1",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        -12576,
        1392
      ]
    },
    {
      "parameters": {
        "options": {}
      },
      "id": "ca9f25c8-daac-464c-8c85-87c8c04dee41",
      "name": "XML ‚Üí JSON1",
      "type": "n8n-nodes-base.xml",
      "typeVersion": 1,
      "position": [
        -12352,
        1392
      ]
    },
    {
      "parameters": {
        "functionCode": "// Access workflow static data in global scope\nconst seen = getWorkflowStaticData('global');\n\nconst courseId = $json.link;\n\nif (!seen.courses) {\n  seen.courses = [];\n}\n\nif (seen.courses.includes(courseId)) {\n  return [];\n}\n\nseen.courses.push(courseId);\n\nreturn [ { json: $json } ];"
      },
      "id": "f93592f3-3697-425a-b515-379c78ddf995",
      "name": "Filter Seen Courses",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [
        -12128,
        1392
      ]
    },
    {
      "parameters": {
        "functionCode": "const items = $json.rss.channel.item;\n\nreturn items.map(course => {\n  const link = String(course.link || \"\");\n  // strip origin\n  const slug = link.replace(/^https?:\\/\\/www\\.discudemy\\.com\\//, \"\").replace(/^\\/+/, \"\");\n  // last part after category\n  const lastPart = slug.split(\"/\").filter(Boolean).pop();\n  const goLink = `https://www.discudemy.com/go/${lastPart}`;\n\n  return {\n    json: {\n      ...course,\n      goLink\n    }\n  };\n});"
      },
      "id": "74ea15ed-0218-4b41-930d-7c604701e190",
      "name": "Build Go Link",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [
        -11904,
        1392
      ]
    },
    {
      "parameters": {
        "url": "={{$json.goLink}}",
        "options": {}
      },
      "id": "5e7a2cc0-d7a4-4ae9-b424-a3da05539083",
      "name": "Fetch Go Page",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -11808,
        1616
      ]
    },
    {
      "parameters": {
        "functionCode": "const items = $items(\"Fetch Go Page\");\n\nreturn items.map((item, index) => {\n  const html = item.json.data;\n\n  const regex = /https:\\/\\/www\\.udemy\\.com\\/course\\/[^\\s\"'<>?]+[^\"'<>]*/g;\n  const match = html.match(regex);\n\n  return {\n    json: {\n      index,\n      udemyLink: match ? match[0] : null\n    }\n  };\n});"
      },
      "id": "5e57ef5e-0bf3-44b7-960d-df40ddae0e4c",
      "name": "Extract Udemy Link",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [
        -11680,
        1616
      ]
    },
    {
      "parameters": {
        "mode": "combine",
        "combinationMode": "mergeByPosition",
        "options": {}
      },
      "id": "562277b8-8461-43c2-88dc-0252ca6bd299",
      "name": "Merge Course + Udemy1",
      "type": "n8n-nodes-base.merge",
      "typeVersion": 2,
      "position": [
        -11520,
        1408
      ]
    },
    {
      "parameters": {
        "url": "={{ $json.link }}",
        "options": {
          "response": {
            "response": {
              "responseFormat": "string"
            }
          }
        }
      },
      "id": "8c6f6587-7649-4b0d-8016-e6e6a86c62d6",
      "name": "Fetch Discudemy Course Page",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -11328,
        1408
      ]
    },
    {
      "parameters": {
        "functionCode": "// Extract Udemy image URL from Discudemy page HTML - PRESERVE UNDERSCORES\nconst items = $input.all();\nconst courseItems = $items('Merge Course + Udemy1');\n\nreturn items.map((item, index) => {\n  const courseData = courseItems[index].json;\n  const html = item.json.data || item.json || '';\n  \n  let udemyImageUrl = null;\n  \n  // Method 1: Direct Udemy CDN patterns for 480x270 images - DON'T MODIFY THE URL\n  const cdnPattern = /https:\\/\\/img-[a-z]\\.udemycdn\\.com\\/course\\/480x270\\/[0-9]+_[a-zA-Z0-9_]+\\.(jpg|jpeg|png|webp)/i;\n  let match = html.match(cdnPattern);\n  \n  if (match) {\n    udemyImageUrl = match[0];\n  } else {\n    // Method 2: Any Udemy CDN image - DON'T MODIFY THE URL\n    const anyUdemyPattern = /https:\\/\\/img-[a-z]\\.udemycdn\\.com\\/course\\/[^\\/]+\\/[0-9]+_[a-zA-Z0-9_]+\\.(jpg|jpeg|png|webp)/gi;\n    const matches = html.match(anyUdemyPattern);\n    \n    if (matches && matches.length > 0) {\n      // Get the first match - PRESERVE ORIGINAL URL WITH UNDERSCORES\n      udemyImageUrl = matches[0];\n    } else {\n      // Method 3: Look in meta tags\n      const metaPatterns = [\n        /<meta\\s+property=\"og:image\"\\s+content=\"([^\"]+udemycdn[^\"]+)\"/i,\n        /<meta\\s+name=\"twitter:image\"\\s+content=\"([^\"]+udemycdn[^\"]+)\"/i\n      ];\n      \n      for (const pattern of metaPatterns) {\n        match = html.match(pattern);\n        if (match) {\n          udemyImageUrl = match[1]; // PRESERVE ORIGINAL URL\n          break;\n        }\n      }\n      \n      // Method 4: Look for any image in img tags\n      if (!udemyImageUrl) {\n        const imgPattern = /<img[^>]+src=\"([^\"]+udemycdn[^\"]+)\"/gi;\n        const imgMatches = [...html.matchAll(imgPattern)];\n        if (imgMatches.length > 0) {\n          udemyImageUrl = imgMatches[0][1]; // PRESERVE ORIGINAL URL\n        }\n      }\n    }\n  }\n  \n  // Clean URL - but preserve underscores\n  if (udemyImageUrl) {\n    udemyImageUrl = udemyImageUrl.split('?')[0];\n  }\n  \n  console.log('Extracted image for course:', courseData.title, '- Image:', udemyImageUrl);\n  \n  return {\n    json: {\n      ...courseData,\n      udemyImageUrl: udemyImageUrl,\n      extractedUdemyImageUrl: udemyImageUrl,\n      hasUdemyImage: !!udemyImageUrl\n    }\n  };\n});"
      },
      "id": "0944ceaa-4bef-4407-81a1-10b30614c74e",
      "name": "Extract Udemy Image URL",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [
        -11136,
        1408
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 1
          },
          "conditions": [
            {
              "id": "1",
              "leftValue": "={{ $json.udemyLink }}",
              "rightValue": "null",
              "operator": {
                "type": "string",
                "operation": "notEquals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "a961a22f-7ddf-415c-9e1b-f9f510f39049",
      "name": "Filter Valid Courses1",
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2,
      "position": [
        -11328,
        1008
      ]
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1RC_LstdN8XQKEHJqA3V9dh4faEKLWWoAyyfKxG2Ikl0",
          "mode": "id"
        },
        "sheetName": {
          "__rl": true,
          "value": "https://docs.google.com/spreadsheets/d/1RC_LstdN8XQKEHJqA3V9dh4faEKLWWoAyyfKxG2Ikl0/edit?pli=1&gid=0#gid=0",
          "mode": "url"
        },
        "options": {}
      },
      "id": "2cf96038-e352-4847-b16a-a911ce8a7079",
      "name": "Read Existing Courses1",
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4,
      "position": [
        -11120,
        1008
      ],
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "6A2XF4qDywhaZUBb",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "functionCode": "// Get all existing udemyLinks from the sheet\nconst existingRecords = $items(\"Read Existing Courses1\");\nconst existingLinks = new Set(\n  existingRecords.map(record => record.json.udemyLink).filter(link => link)\n);\n\n// Get incoming courses\nconst incomingCourses = $items(\"Filter Valid Courses1\");\n\n// Filter out courses that already exist in the sheet\nconst newCourses = incomingCourses.filter(course => {\n  const udemyLink = course.json.udemyLink;\n  return udemyLink && !existingLinks.has(udemyLink);\n});\n\nreturn newCourses;"
      },
      "id": "e03c407b-4bed-41aa-8159-33eccba4f1bd",
      "name": "Filter New Courses Only1",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [
        -10912,
        1008
      ]
    },
    {
      "parameters": {
        "url": "={{ 'https://courselamy.site/wp-json/wp/v2/categories?search=' + encodeURIComponent(($json.category && (typeof $json.category === 'string' ? $json.category : $json.category._ || $json.category['#text'] || $json.category.text || '')) || '').toLowerCase() + '&per_page=100' }}",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpBasicAuth",
        "options": {
          "response": {
            "response": {
              "neverError": true
            }
          }
        }
      },
      "id": "4559da00-85ea-4e08-8fb8-8d405be5cbc7",
      "name": "Check Category Exists",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 3,
      "position": [
        -10704,
        1008
      ],
      "alwaysOutputData": true,
      "credentials": {
        "httpBasicAuth": {
          "id": "GJ1o59YzAiqhpAMR",
          "name": "Unnamed credential"
        }
      }
    },
    {
      "parameters": {
        "functionCode": "// Process category check results with exact matching - ENSURE ALL COURSES CONTINUE\nconst items = $input.all();\nconst courseItems = $items('Filter New Courses Only1');\n\n// Ensure we only process matching items\nconst minLength = Math.min(items.length, courseItems.length);\n\nreturn items.slice(0, minLength).map((item, index) => {\n  const courseData = courseItems[index].json;\n  const response = item.json;\n  \n  let categoryId = null;\n  \n  // Safely extract category name - handle both string and object types\n  let categoryName = '';\n  if (typeof courseData.category === 'string') {\n    categoryName = courseData.category;\n  } else if (courseData.category && typeof courseData.category === 'object') {\n    // If it's an object, try to get the text content\n    categoryName = courseData.category._ || courseData.category['#text'] || courseData.category.text || '';\n  }\n  \n  const searchCategory = categoryName.toLowerCase().trim();\n  \n  // Check if category already exists with exact name match\n  if (Array.isArray(response) && response.length > 0) {\n    // Find exact match (case insensitive)\n    const exactMatch = response.find(cat => {\n      const catName = (cat.name || '').toLowerCase().trim();\n      return catName === searchCategory && searchCategory !== '';\n    });\n    categoryId = exactMatch ? exactMatch.id : null;\n  } else if (response && response.id) {\n    categoryId = response.id;\n  }\n  \n  console.log('Category check for:', categoryName, '- Found ID:', categoryId, '- Exact match:', !!categoryId);\n  \n  return {\n    json: {\n      ...courseData,\n      category: categoryName, // Ensure category is always a string\n      existingCategoryId: categoryId,\n      needsCategoryCreation: Boolean(!categoryId && searchCategory),\n      ldCategoryId: categoryId || null,\n      categoryName: searchCategory\n    }\n  };\n});"
      },
      "id": "23d07c9b-8196-4b63-a7c2-c5c26615fa1f",
      "name": "Process Category Check",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [
        -10496,
        1008
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 1
          },
          "conditions": [
            {
              "id": "1",
              "leftValue": "={{ $json.needsCategoryCreation }}",
              "rightValue": true,
              "operator": {
                "type": "boolean",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "376d5048-b990-4353-9a05-58e7125ccefe",
      "name": "Filter Needs Category Creation",
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2,
      "position": [
        -10608,
        1616
      ]
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://courselamy.site/wp-json/wp/v2/categories",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpBasicAuth",
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "name",
              "value": "={{ (($json.category && (typeof $json.category === 'string' ? $json.category : $json.category._ || $json.category['#text'] || $json.category.text || '')) || '').replace(/\\\\s*\\\\[100% OFF\\\\]\\\\s*/gi, '').trim() }}"
            },
            {
              "name": "slug",
              "value": "={{ (($json.category && (typeof $json.category === 'string' ? $json.category : $json.category._ || $json.category['#text'] || $json.category.text || '')) || '').replace(/\\\\s*\\\\[100% OFF\\\\]\\\\s*/gi, '').toLowerCase().trim().replace(/\\\\s+/g, '-') }}"
            }
          ]
        },
        "options": {}
      },
      "id": "d138c3e3-5cc4-4a78-824f-2dcfa50f6372",
      "name": "Create New Category",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 3,
      "position": [
        -10400,
        1616
      ],
      "credentials": {
        "httpBasicAuth": {
          "id": "GJ1o59YzAiqhpAMR",
          "name": "Unnamed credential"
        }
      }
    },
    {
      "parameters": {
        "functionCode": "// Extract new category ID and merge with original data - with error handling\nconst items = $input.all();\nconst courseItems = $items('Filter Needs Category Creation');\n\nreturn items.map((item, index) => {\n  const courseData = courseItems[index].json;\n  const response = item.json;\n  \n  // If creation failed with \"term exists\" error, try to fetch the existing category\n  if (response && response.code === 'term_exists') {\n    console.log('Category already exists, using existing ID:', response.data.term_id);\n    return {\n      json: {\n        ...courseData,\n        ldCategoryId: response.data.term_id,\n        categoryCreated: false, // wasn't created by us\n        categoryAlreadyExists: true\n      }\n    };\n  }\n  \n  if (response && response.id) {\n    return {\n      json: {\n        ...courseData,\n        ldCategoryId: response.id,\n        categoryCreated: true\n      }\n    };\n  }\n  \n  // If we get here, category creation failed for another reason\n  console.log('Category creation failed:', response);\n  return {\n    json: {\n      ...courseData,\n      categoryCreated: false,\n      creationError: response\n    }\n  };\n});"
      },
      "id": "6df7a90b-aa82-4d94-9441-a5511155ec0b",
      "name": "Extract Category ID",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [
        -10192,
        1616
      ]
    },
    {
      "parameters": {
        "mode": "combine",
        "combinationMode": "mergeByPosition",
        "options": {}
      },
      "id": "39ceeb6f-2ad2-4587-b502-c1a52b0ffd93",
      "name": "Merge Category Data",
      "type": "n8n-nodes-base.merge",
      "typeVersion": 2,
      "position": [
        -9984,
        1456
      ]
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://courselamy.site/wp-json/ldlms/v1/sfwd-courses",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpBasicAuth",
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "title",
              "value": "={{ $json.title.replace(/\\s*\\[\\s*100%\\s*OFF\\s*\\]\\s*/gi, '').trim() }}"
            },
            {
              "name": "content",
              "value": "={{ \n  (\n    $json.udemyImageUrl \n      ? '<div style=\"text-align: center; margin-bottom: 20px;\"><img src=\"' + $json.udemyImageUrl + '\" alt=\"Course Image\" style=\"max-width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);\"/></div>' \n      : ($json.enclosure || $json.image \n        ? '<div style=\"text-align: center; margin-bottom: 20px;\"><img src=\"' + ($json.enclosure?.url || $json.image) + '\" alt=\"Course Image\" style=\"max-width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);\"/></div>' \n        : '')\n  ) \n  + (\n    $json.description \n      ? $json.description\n          .replace(/<p><a rel=\"nofollow\" href=\"[^\"]+\">\\s*\\[100% OFF\\]\\s*[^<]+<\\/a><\\/p>\\s*/gi, \"\") \n          .replace(/https?:\\/\\/www\\.discudemy\\.com\\/[^\\s\"'<]+/gi, '') // REMOVE DISCUDEMY LINKS\n      : ''\n  ) \n  + '<br/><br/><div style=\"background-color: #f0f0f0; padding: 15px; border-radius: 5px; margin-top: 20px;\"><strong>üéì Enrol for Course:</strong> <a href=\"' + ($json.udemyLink || '') + '\" target=\"_blank\" style=\"color: #0073aa; text-decoration: none; font-weight: bold;\">' + ($json.udemyLink || '') + '</a></div>'\n}}"
            },
            {
              "name": "status",
              "value": "publish"
            },
            {
              "name": "categories",
              "value": "={{ $json.ldCategoryId || '' }}"
            },
            {
              "name": "meta",
              "value": "={{ { course_image_url: $json.udemyImageUrl || $json.enclosure || $json.image || '', learndash_course_image: $json.udemyImageUrl || $json.enclosure || $json.image || '' } }}"
            }
          ]
        },
        "options": {}
      },
      "name": "Create LearnDash Course1",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 3,
      "position": [
        -9776,
        1456
      ],
      "id": "a1355368-0364-4d93-9504-a5ebb8df0940",
      "credentials": {
        "httpBasicAuth": {
          "id": "GJ1o59YzAiqhpAMR",
          "name": "Unnamed credential"
        }
      }
    },
    {
      "parameters": {
        "functionCode": "// Extract LearnDash course link from response - Process ALL items\nconst allResponses = $input.all();\nconst allOriginalData = $items(\"Merge Category Data\");\nconst results = [];\n\nfor (let i = 0; i < allResponses.length; i++) {\n  const response = allResponses[i].json;\n  const originalCourse = allOriginalData[i].json;\n  \n  if (response && response.id) {\n    const learnDashLink = `https://courselamy.site/courses/${response.slug || response.id}/`;\n    \n    results.push({\n      json: {\n        ...originalCourse,\n        learnDashLink: learnDashLink,\n        learnDashId: response.id,\n        learnDashSlug: response.slug\n      }\n    });\n  } else {\n    results.push({\n      json: {\n        ...originalCourse,\n        learnDashLink: null,\n        learnDashId: null\n      }\n    });\n  }\n}\n\nreturn results;"
      },
      "id": "bd9037c2-b775-4a61-851f-25b8cadd5870",
      "name": "Extract LearnDash Link1",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [
        -9568,
        1456
      ]
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1RC_LstdN8XQKEHJqA3V9dh4faEKLWWoAyyfKxG2Ikl0",
          "mode": "id"
        },
        "sheetName": {
          "__rl": true,
          "value": "https://docs.google.com/spreadsheets/d/1RC_LstdN8XQKEHJqA3V9dh4faEKLWWoAyyfKxG2Ikl0/edit?pli=1&gid=0#gid=0",
          "mode": "url"
        },
        "columns": {
          "mappingMode": "autoMapInputData",
          "value": {},
          "matchingColumns": [
            "udemyLink"
          ],
          "schema": [
            {
              "id": "title",
              "displayName": "title",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "udemyLink",
              "displayName": "udemyLink",
              "required": false,
              "defaultMatch": true,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "category",
              "displayName": "category",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "udemyImageUrl",
              "displayName": "udemyImageUrl",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": false
            },
            {
              "id": "learnDashLink",
              "displayName": "learnDashLink",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": false
            }
          ]
        },
        "options": {}
      },
      "id": "5bf4547f-119e-422d-b93b-40b38b117d43",
      "name": "Save to Google Sheets1",
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4,
      "position": [
        -9376,
        1248
      ],
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "6A2XF4qDywhaZUBb",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "url": "={{ $json.udemyImageUrl }}",
        "options": {}
      },
      "id": "29525746-9d17-407e-8da7-944543a2d07b",
      "name": "Download Udemy Image",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -9216,
        1456
      ]
    },
    {
      "parameters": {
        "unit": "minutes"
      },
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1.1,
      "position": [
        -8480,
        1472
      ],
      "id": "5d2330db-9f12-41c4-abd9-2251f8fda134",
      "name": "Wait",
      "webhookId": "f402991d-9b20-49ec-94a5-13a470225c17",
      "executeOnce": false
    },
    {
      "parameters": {
        "options": {
          "reset": false
        }
      },
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "position": [
        -9008,
        1456
      ],
      "id": "8fcbd4ea-a3e3-413c-a3d9-0e1aa625be7a",
      "name": "Loop Over Items"
    },
    {
      "parameters": {
        "text": "={{ `üéì ${$json.title.replace(/\\s*\\[\\s*100%\\s*OFF\\s*\\]\\s*/gi, '').trim().replace(/([_*[\\]()~`>#+\\-=|{}.!])/g, '\\\\$1')}\\n\\nüéØ Category: ${$json.category || 'General'}\\nüåê Course Page: ${$json.learnDashLink || 'Check our website for details!'}\\n\\n#Udemy #FreeCourse #${($json.category || 'Learning').replace(/[^a-zA-Z0-9]/g, '')} #OnlineLearning` }}",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.twitter",
      "typeVersion": 2,
      "position": [
        -8736,
        1472
      ],
      "id": "d45d0ebe-34ad-4631-8d28-935d4bae7417",
      "name": "Create Tweet2",
      "credentials": {
        "twitterOAuth2Api": {
          "id": "oy2NJBUSDHD6u0kU",
          "name": "X account"
        }
      }
    }
  ],
  "connections": {
    "Schedule Trigger1": {
      "main": [
        [
          {
            "node": "Fetch RSS1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Fetch RSS1": {
      "main": [
        [
          {
            "node": "XML ‚Üí JSON1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "XML ‚Üí JSON1": {
      "main": [
        [
          {
            "node": "Filter Seen Courses",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filter Seen Courses": {
      "main": [
        [
          {
            "node": "Build Go Link",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Build Go Link": {
      "main": [
        [
          {
            "node": "Merge Course + Udemy1",
            "type": "main",
            "index": 0
          },
          {
            "node": "Fetch Go Page",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Fetch Go Page": {
      "main": [
        [
          {
            "node": "Extract Udemy Link",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract Udemy Link": {
      "main": [
        [
          {
            "node": "Merge Course + Udemy1",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Merge Course + Udemy1": {
      "main": [
        [
          {
            "node": "Fetch Discudemy Course Page",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Fetch Discudemy Course Page": {
      "main": [
        [
          {
            "node": "Extract Udemy Image URL",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract Udemy Image URL": {
      "main": [
        [
          {
            "node": "Filter Valid Courses1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filter Valid Courses1": {
      "main": [
        [
          {
            "node": "Read Existing Courses1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Read Existing Courses1": {
      "main": [
        [
          {
            "node": "Filter New Courses Only1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filter New Courses Only1": {
      "main": [
        [
          {
            "node": "Check Category Exists",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check Category Exists": {
      "main": [
        [
          {
            "node": "Process Category Check",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Process Category Check": {
      "main": [
        [
          {
            "node": "Merge Category Data",
            "type": "main",
            "index": 0
          },
          {
            "node": "Filter Needs Category Creation",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filter Needs Category Creation": {
      "main": [
        [
          {
            "node": "Create New Category",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create New Category": {
      "main": [
        [
          {
            "node": "Extract Category ID",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract Category ID": {
      "main": [
        [
          {
            "node": "Merge Category Data",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Merge Category Data": {
      "main": [
        [
          {
            "node": "Create LearnDash Course1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create LearnDash Course1": {
      "main": [
        [
          {
            "node": "Extract LearnDash Link1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract LearnDash Link1": {
      "main": [
        [
          {
            "node": "Save to Google Sheets1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Save to Google Sheets1": {
      "main": [
        [
          {
            "node": "Download Udemy Image",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Download Udemy Image": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items": {
      "main": [
        [],
        [
          {
            "node": "Create Tweet2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create Tweet2": {
      "main": [
        [
          {
            "node": "Wait",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1",
    "callerPolicy": "workflowsFromSameOwner",
    "errorWorkflow": "SupOl9rOlZ62N5lV",
    "timezone": "Africa/Lagos"
  },
  "staticData": {
    "global": {
      "courses": [
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null
      ]
    }
  },
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "pinData": {},
  "versionId": "c81e1452-7baa-470c-9c28-2696f993ef4d",
  "triggerCount": 1,
  "shared": [
    {
      "createdAt": "2025-09-28T06:30:09.751Z",
      "updatedAt": "2025-09-28T06:30:09.751Z",
      "role": "workflow:owner",
      "workflowId": "6JDvZ3pYJE936ZqX",
      "projectId": "X54hljIRMdcuCgG9"
    }
  ],
  "tags": []
}